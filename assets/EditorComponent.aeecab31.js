import{h as b,j as c,e as Z,a0 as je,R as Ne,a1 as Sr,F as Ge,a2 as Mr,a as Tr,u as Mt,B as Br,J as He,I as Fr,P as at,a3 as Pr,p as Ue,a4 as Ir,a5 as Lr,w as Tt,N as Rr}from"./index.87e42946.js";import{R as M,a as d,N as ee,b as A,T as ie,E as Xe,P as $,S as Le,c as Re,d as Ar,U as Nr,B as _r,H as Bt}from"./Unordered.41db7f1e.js";import{I as Oe}from"./Icon.8806c765.js";import Ft from"./Button.9ead0917.js";import Wr,{showAlert as ye}from"./Alert.0633937e.js";const jr=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7H7z"}),c("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7H7v-7"})]})})}),Hr=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M19 18v-8l-2 2"}),c("path",{d:"M4 6v12"}),c("path",{d:"M12 6v12"}),c("path",{d:"M11 18h2"}),c("path",{d:"M3 18h2"}),c("path",{d:"M4 12h8"}),c("path",{d:"M3 6h2"}),c("path",{d:"M11 6h2"})]})})}),Ur=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591-.417 1.318-.816 1.858L17 18.001h4"}),c("path",{d:"M4 6v12"}),c("path",{d:"M12 6v12"}),c("path",{d:"M11 18h2"}),c("path",{d:"M3 18h2"}),c("path",{d:"M4 12h8"}),c("path",{d:"M3 6h2"}),c("path",{d:"M11 6h2"})]})})}),Kr=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M11 5h6"}),c("path",{d:"M7 19h6"}),c("path",{d:"M14 5l-4 14"})]})})}),qr=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M9 6h11"}),c("path",{d:"M9 12h11"}),c("path",{d:"M9 18h11"}),c("path",{d:"M5 6v.01"}),c("path",{d:"M5 12v.01"}),c("path",{d:"M5 18v.01"})]})})}),Vr=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M10 11H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5"}),c("path",{d:"M19 11h-4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5"})]})})}),$r=b.exports.forwardRef(function(e,r){return c("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},e,{ref:r}),children:Z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[c("path",{d:"M5 12h14"}),c("path",{d:"M16 6.5A4 2 0 0 0 12 5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1-4-1.5"})]})})});var Jt=Xr,er="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",tr="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",zr=new RegExp("^[^"+tr+"]*["+er+"]"),Yr=new RegExp("^[^"+er+"]*["+tr+"]");function Xr(t){return t=String(t||""),zr.test(t)?"rtl":Yr.test(t)?"ltr":"neutral"}function Gr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wt=Gr,Qr=typeof je=="object"&&je&&je.Object===Object&&je,Zr=Qr,Jr=Zr,ea=typeof self=="object"&&self&&self.Object===Object&&self,ta=Jr||ea||Function("return this")(),rr=ta,ra=rr,aa=function(){return ra.Date.now()},na=aa,ia=/\s/;function oa(t){for(var e=t.length;e--&&ia.test(t.charAt(e)););return e}var sa=oa,la=sa,da=/^\s+/;function ua(t){return t&&t.slice(0,la(t)+1).replace(da,"")}var ca=ua,fa=rr,va=fa.Symbol,ar=va,Pt=ar,nr=Object.prototype,ha=nr.hasOwnProperty,ga=nr.toString,Ie=Pt?Pt.toStringTag:void 0;function pa(t){var e=ha.call(t,Ie),r=t[Ie];try{t[Ie]=void 0;var a=!0}catch{}var i=ga.call(t);return a&&(e?t[Ie]=r:delete t[Ie]),i}var ma=pa,wa=Object.prototype,ba=wa.toString;function xa(t){return ba.call(t)}var ka=xa,It=ar,Oa=ma,ya=ka,Da="[object Null]",Ea="[object Undefined]",Lt=It?It.toStringTag:void 0;function Ca(t){return t==null?t===void 0?Ea:Da:Lt&&Lt in Object(t)?Oa(t):ya(t)}var Sa=Ca;function Ma(t){return t!=null&&typeof t=="object"}var Ta=Ma,Ba=Sa,Fa=Ta,Pa="[object Symbol]";function Ia(t){return typeof t=="symbol"||Fa(t)&&Ba(t)==Pa}var La=Ia,Ra=ca,Rt=wt,Aa=La,At=0/0,Na=/^[-+]0x[0-9a-f]+$/i,_a=/^0b[01]+$/i,Wa=/^0o[0-7]+$/i,ja=parseInt;function Ha(t){if(typeof t=="number")return t;if(Aa(t))return At;if(Rt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ra(t);var r=_a.test(t);return r||Wa.test(t)?ja(t.slice(2),r?2:8):Na.test(t)?At:+t}var Ua=Ha,Ka=wt,nt=na,Nt=Ua,qa="Expected a function",Va=Math.max,$a=Math.min;function za(t,e,r){var a,i,o,u,s,g,f=0,x=!1,k=!1,v=!0;if(typeof t!="function")throw new TypeError(qa);e=Nt(e)||0,Ka(r)&&(x=!!r.leading,k="maxWait"in r,o=k?Va(Nt(r.maxWait)||0,e):o,v="trailing"in r?!!r.trailing:v);function n(L){var R=a,h=i;return a=i=void 0,f=L,u=t.apply(h,R),u}function O(L){return f=L,s=setTimeout(B,e),x?n(L):u}function D(L){var R=L-g,h=L-f,W=e-R;return k?$a(W,o-h):W}function E(L){var R=L-g,h=L-f;return g===void 0||R>=e||R<0||k&&h>=o}function B(){var L=nt();if(E(L))return _(L);s=setTimeout(B,D(L))}function _(L){return s=void 0,v&&a?n(L):(a=i=void 0,u)}function I(){s!==void 0&&clearTimeout(s),f=0,a=g=i=s=void 0}function q(){return s===void 0?u:_(nt())}function N(){var L=nt(),R=E(L);if(a=arguments,i=this,g=L,R){if(s===void 0)return O(g);if(k)return clearTimeout(s),s=setTimeout(B,e),n(g)}return s===void 0&&(s=setTimeout(B,e)),u}return N.cancel=I,N.flush=q,N}var ir=za,Ya=ir,Xa=wt,Ga="Expected a function";function Qa(t,e,r){var a=!0,i=!0;if(typeof t!="function")throw new TypeError(Ga);return Xa(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),Ya(t,e,{leading:a,maxWait:e,trailing:i})}var Za=Qa;function _t(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function Wt(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function it(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return Wt(r.overflowY,e)||Wt(r.overflowX,e)||function(a){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}}(a);return!!i&&(i.clientHeight<a.scrollHeight||i.clientWidth<a.scrollWidth)}(t)}return!1}function Ke(t,e,r,a,i,o,u,s){return o<t&&u>e||o>t&&u<e?0:o<=t&&s<=r||u>=e&&s>=r?o-t-a:u>e&&s<r||o<t&&s>r?u-e+i:0}function jt(t,e){var r=window,a=e.scrollMode,i=e.block,o=e.inline,u=e.boundary,s=e.skipOverflowHiddenElements,g=typeof u=="function"?u:function(ae){return ae!==u};if(!_t(t))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,x=[],k=t;_t(k)&&g(k);){if((k=k.parentElement)===f){x.push(k);break}k!=null&&k===document.body&&it(k)&&!it(document.documentElement)||k!=null&&it(k,s)&&x.push(k)}for(var v=r.visualViewport?r.visualViewport.width:innerWidth,n=r.visualViewport?r.visualViewport.height:innerHeight,O=window.scrollX||pageXOffset,D=window.scrollY||pageYOffset,E=t.getBoundingClientRect(),B=E.height,_=E.width,I=E.top,q=E.right,N=E.bottom,L=E.left,R=i==="start"||i==="nearest"?I:i==="end"?N:I+B/2,h=o==="center"?L+_/2:o==="end"?q:L,W=[],U=0;U<x.length;U++){var V=x[U],C=V.getBoundingClientRect(),F=C.height,T=C.width,y=C.top,G=C.right,l=C.bottom,m=C.left;if(a==="if-needed"&&I>=0&&L>=0&&N<=n&&q<=v&&I>=y&&N<=l&&L>=m&&q<=G)return W;var w=getComputedStyle(V),S=parseInt(w.borderLeftWidth,10),P=parseInt(w.borderTopWidth,10),j=parseInt(w.borderRightWidth,10),H=parseInt(w.borderBottomWidth,10),K=0,Q=0,J="offsetWidth"in V?V.offsetWidth-V.clientWidth-S-j:0,Y="offsetHeight"in V?V.offsetHeight-V.clientHeight-P-H:0;if(f===V)K=i==="start"?R:i==="end"?R-n:i==="nearest"?Ke(D,D+n,n,P,H,D+R,D+R+B,B):R-n/2,Q=o==="start"?h:o==="center"?h-v/2:o==="end"?h-v:Ke(O,O+v,v,S,j,O+h,O+h+_,_),K=Math.max(0,K+D),Q=Math.max(0,Q+O);else{K=i==="start"?R-y-P:i==="end"?R-l+H+Y:i==="nearest"?Ke(y,l,F,P,H+Y,R,R+B,B):R-(y+F/2)+Y/2,Q=o==="start"?h-m-S:o==="center"?h-(m+T/2)+J/2:o==="end"?h-G+j+J:Ke(m,G,T,S,j+J,h,h+_,_);var le=V.scrollLeft,re=V.scrollTop;R+=re-(K=Math.max(0,Math.min(re+K,V.scrollHeight-F+Y))),h+=le-(Q=Math.max(0,Math.min(le+Q,V.scrollWidth-T+J)))}W.push({el:V,top:K,left:Q})}return W}function or(t){return t===Object(t)&&Object.keys(t).length!==0}function Ja(t,e){e===void 0&&(e="auto");var r="scrollBehavior"in document.body.style;t.forEach(function(a){var i=a.el,o=a.top,u=a.left;i.scroll&&r?i.scroll({top:o,left:u,behavior:e}):(i.scrollTop=o,i.scrollLeft=u)})}function en(t){return t===!1?{block:"end",inline:"nearest"}:or(t)?t:{block:"start",inline:"nearest"}}function tn(t,e){var r=t.isConnected||t.ownerDocument.documentElement.contains(t);if(or(e)&&typeof e.behavior=="function")return e.behavior(r?jt(t,e):[]);if(!!r){var a=en(e);return Ja(jt(t,a),a.behavior)}}var me={};Object.defineProperty(me,"__esModule",{value:!0});var rn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ot={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},an={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:rn?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},sr={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var qe=1;qe<20;qe++)sr["f"+qe]=111+qe;function Qe(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var a=t.map(function(u){return lr(u,e)}),i=function(s){return a.some(function(g){return dr(g,s)})},o=r==null?i:i(r);return o}function nn(t,e){return Qe(t,e)}function on(t,e){return Qe(t,{byKey:!0},e)}function lr(t,e){var r=e&&e.byKey,a={};t=t.replace("++","+add");var i=t.split("+"),o=i.length;for(var u in ot)a[ot[u]]=!1;var s=!0,g=!1,f=void 0;try{for(var x=i[Symbol.iterator](),k;!(s=(k=x.next()).done);s=!0){var v=k.value,n=v.endsWith("?")&&v.length>1;n&&(v=v.slice(0,-1));var O=bt(v),D=ot[O];(o===1||!D)&&(r?a.key=O:a.which=ur(v)),D&&(a[D]=n?null:!0)}}catch(E){g=!0,f=E}finally{try{!s&&x.return&&x.return()}finally{if(g)throw f}}return a}function dr(t,e){for(var r in t){var a=t[r],i=void 0;if(a!=null&&(r==="key"&&e.key!=null?i=e.key.toLowerCase():r==="which"?i=a===91&&e.which===93?91:e.which:i=e[r],!(i==null&&a===!1)&&i!==a))return!1}return!0}function ur(t){t=bt(t);var e=sr[t]||t.toUpperCase().charCodeAt(0);return e}function bt(t){return t=t.toLowerCase(),t=an[t]||t,t}me.default=Qe;me.isHotkey=Qe;me.isCodeHotkey=nn;var st=me.isKeyHotkey=on;me.parseHotkey=lr;me.compareHotkey=dr;me.toKeyCode=ur;me.toKeyName=bt;function Ze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sn(t,e){if(t==null)return{};var r={},a=Object.keys(t),i,o;for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Be(t,e){if(t==null)return{};var r=sn(t,e),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(r[a]=t[a]))}return r}var ln=0;class dn{constructor(){this.id="".concat(ln++)}}var xt=new WeakMap,kt=new WeakMap,cr=new WeakMap,ut=new WeakMap,ct=new WeakMap,Je=new WeakMap,Fe=new WeakMap,ft=new WeakMap,et=new WeakMap,Ot=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,vt=new WeakMap,yt=new WeakMap,fe=new WeakMap,pe=new WeakMap,se=new WeakMap,xe=new WeakMap,ke=new WeakMap,fr=new WeakMap,Pe=Symbol("placeholder"),vr=Symbol("mark-placeholder"),Dt=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,un=t=>Me(t)&&t.nodeType===8,ce=t=>Me(t)&&t.nodeType===1,Me=t=>{var e=Dt(t);return!!e&&t instanceof e.Node},ht=t=>{var e=t&&t.anchorNode&&Dt(t.anchorNode);return!!e&&t instanceof e.Selection},hr=t=>Me(t)&&t.nodeType===3,cn=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,fn=t=>{var[e,r]=t;if(ce(e)&&e.childNodes.length){var a=r===e.childNodes.length,i=a?r-1:r;for([e,i]=gr(e,i,a?"backward":"forward"),a=i<r;ce(e)&&e.childNodes.length;){var o=a?e.childNodes.length-1:0;e=hn(e,o,a?"backward":"forward")}r=a&&e.textContent!=null?e.textContent.length:0}return[e,r]},vn=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),gr=(t,e,r)=>{for(var{childNodes:a}=t,i=a[e],o=e,u=!1,s=!1;(un(i)||ce(i)&&i.childNodes.length===0||ce(i)&&i.getAttribute("contenteditable")==="false")&&!(u&&s);){if(o>=a.length){u=!0,o=e-1,r="backward";continue}if(o<0){s=!0,o=e+1,r="forward";continue}i=a[o],e=o,o+=r==="forward"?1:-1}return[i,e]},hn=(t,e,r)=>{var[a]=gr(t,e,r);return a},pr=t=>{var e="";if(hr(t)&&t.nodeValue)return t.nodeValue;if(ce(t)){for(var r of Array.from(t.childNodes))e+=pr(r);var a=getComputedStyle(t).getPropertyValue("display");(a==="block"||a==="list"||t.tagName==="BR")&&(e+=`
`)}return e},gn=/data-slate-fragment="(.+?)"/m,pn=t=>{var e=t.getData("text/html"),[,r]=e.match(gn)||[];return r},Et=(t,e,r)=>{var{target:a}=e;if(ce(a)&&a.matches('[contentEditable="false"]'))return!1;var{document:i}=p.getWindow(t);if(i.contains(a))return p.hasDOMNode(t,a,{editable:!0});var o=r.find(u=>{var{addedNodes:s,removedNodes:g}=u;for(var f of s)if(f===a||f.contains(a))return!0;for(var x of g)if(x===a||x.contains(a))return!0});return!o||o===e?!1:Et(t,o,r)},mn=parseInt(Ne.version.split(".")[0],10)>=17,wn=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ht=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ve=typeof navigator<"u"&&/Android/.test(navigator.userAgent),gt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),lt=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),bn=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),mr=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),xn=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),kn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),On=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),yn=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Dn=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),Ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",be=!xn&&!bn&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",p={isComposing(t){return!!Ce.get(t)},getWindow(t){var e=cr.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},findKey(t,e){var r=ft.get(e);return r||(r=new dn,ft.set(e,r)),r},findPath(t,e){for(var r=[],a=e;;){var i=kt.get(a);if(i==null){if(d.isEditor(a))return r;break}var o=xt.get(a);if(o==null)break;r.unshift(o),a=i}throw new Error("Unable to find the path for Slate node: ".concat(Le.stringify(e)))},findDocumentOrShadowRoot(t){var e=p.toDOMNode(t,t),r=e.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:e.ownerDocument},isFocused(t){return!!Ee.get(t)},isReadOnly(t){return!!Ot.get(t)},blur(t){var e=p.toDOMNode(t,t),r=p.findDocumentOrShadowRoot(t);Ee.set(t,!1),r.activeElement===e&&e.blur()},focus(t){var e=p.toDOMNode(t,t),r=p.findDocumentOrShadowRoot(t);Ee.set(t,!0),r.activeElement!==e&&e.focus({preventScroll:!0})},deselect(t){p.toDOMNode(t,t);var{selection:e}=t,r=p.findDocumentOrShadowRoot(t),a=r.getSelection();a&&a.rangeCount>0&&a.removeAllRanges(),e&&A.deselect(t)},hasDOMNode(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=r,i=p.toDOMNode(t,t),o;try{o=ce(e)?e:e.parentElement}catch(u){if(!u.message.includes('Permission denied to access property "nodeType"'))throw u}return o?o.closest("[data-slate-editor]")===i&&(!a||o.isContentEditable?!0:typeof o.isContentEditable=="boolean"&&o.closest('[contenteditable="false"]')===i||!!o.getAttribute("data-slate-zero-width")):!1},insertData(t,e){t.insertData(e)},insertFragmentData(t,e){return t.insertFragmentData(e)},insertTextData(t,e){return t.insertTextData(e)},setFragmentData(t,e,r){t.setFragmentData(e,r)},toDOMNode(t,e){var r=et.get(t),a=d.isEditor(e)?ut.get(t):r==null?void 0:r.get(p.findKey(t,e));if(!a)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Le.stringify(e)));return a},toDOMPoint(t,e){var[r]=d.node(t,e.path),a=p.toDOMNode(t,r),i;d.void(t,{at:e})&&(e={path:e.path,offset:0});for(var o="[data-slate-string], [data-slate-zero-width]",u=Array.from(a.querySelectorAll(o)),s=0,g=0;g<u.length;g++){var f=u[g],x=f.childNodes[0];if(!(x==null||x.textContent==null)){var{length:k}=x.textContent,v=f.getAttribute("data-slate-length"),n=v==null?k:parseInt(v,10),O=s+n,D=u[g+1];if(e.offset===O&&D!==null&&D!==void 0&&D.hasAttribute("data-slate-mark-placeholder")){var E;i=[D,(E=D.textContent)!==null&&E!==void 0&&E.startsWith("\uFEFF")?1:0];break}if(e.offset<=O){var B=Math.min(k,Math.max(0,e.offset-s));i=[x,B];break}s=O}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Le.stringify(e)));return i},toDOMRange(t,e){var{anchor:r,focus:a}=e,i=M.isBackward(e),o=p.toDOMPoint(t,r),u=M.isCollapsed(e)?o:p.toDOMPoint(t,a),s=p.getWindow(t),g=s.document.createRange(),[f,x]=i?u:o,[k,v]=i?o:u,n=ce(f)?f:f.parentElement,O=!!n.getAttribute("data-slate-zero-width"),D=ce(k)?k:k.parentElement,E=!!D.getAttribute("data-slate-zero-width");return g.setStart(f,O?1:x),g.setEnd(k,E?1:v),g},toSlateNode(t,e){var r=ce(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var a=r?Je.get(r):null;if(!a)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return a},findEventRange(t,e){"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:a,target:i}=e;if(r==null||a==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=p.toSlateNode(t,e.target),u=p.findPath(t,o);if(d.isVoid(t,o)){var s=i.getBoundingClientRect(),g=t.isInline(o)?r-s.left<s.left+s.width-r:a-s.top<s.top+s.height-a,f=d.point(t,u,{edge:g?"start":"end"}),x=g?d.before(t,f):d.after(t,f);if(x){var k=d.range(t,x);return k}}var v,{document:n}=p.getWindow(t);if(n.caretRangeFromPoint)v=n.caretRangeFromPoint(r,a);else{var O=n.caretPositionFromPoint(r,a);O&&(v=n.createRange(),v.setStart(O.offsetNode,O.offset),v.setEnd(O.offsetNode,O.offset))}if(!v)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var D=p.toSlateRange(t,v,{exactMatch:!1,suppressThrow:!1});return D},toSlatePoint(t,e,r){var{exactMatch:a,suppressThrow:i}=r,[o,u]=a?e:fn(e),s=o.parentNode,g=null,f=0;if(s){var x,k,v=p.toDOMNode(t,t),n=s.closest('[data-slate-void="true"]'),O=n&&v.contains(n)?n:null,D=s.closest("[data-slate-leaf]"),E=null;if(D){if(g=D.closest('[data-slate-node="text"]'),g){var B=p.getWindow(t),_=B.document.createRange();_.setStart(g,0),_.setEnd(o,u);var I=_.cloneContents(),q=[...Array.prototype.slice.call(I.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(I.querySelectorAll("[contenteditable=false]"))];q.forEach(T=>{if(ve&&!a&&T.hasAttribute("data-slate-zero-width")&&T.textContent.length>0&&T.textContext!=="\uFEFF"){T.textContent.startsWith("\uFEFF")&&(T.textContent=T.textContent.slice(1));return}T.parentNode.removeChild(T)}),f=I.textContent.length,E=g}}else if(O){for(var N=O.querySelectorAll("[data-slate-leaf]"),L=0;L<N.length;L++){var R=N[L];if(p.hasDOMNode(t,R)){D=R;break}}D?(g=D.closest('[data-slate-node="text"]'),E=D,f=E.textContent.length,E.querySelectorAll("[data-slate-zero-width]").forEach(T=>{f-=T.textContent.length})):f=1}E&&f===E.textContent.length&&ve&&E.getAttribute("data-slate-zero-width")==="z"&&(x=E.textContent)!==null&&x!==void 0&&x.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||gt&&(k=E.textContent)!==null&&k!==void 0&&k.endsWith(`

`))&&f--}if(ve&&!g&&!a){var h=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(h&&p.hasDOMNode(t,h,{editable:!0})){var W=p.toSlateNode(t,h),{path:U,offset:V}=d.start(t,p.findPath(t,W));return h.querySelector("[data-slate-leaf]")||(V=u),{path:U,offset:V}}}if(!g){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var C=p.toSlateNode(t,g),F=p.findPath(t,C);return{path:F,offset:f}},toSlateRange(t,e,r){var{exactMatch:a,suppressThrow:i}=r,o=ht(e)?e.anchorNode:e.startContainer,u,s,g,f,x;if(o&&(ht(e)?(u=e.anchorNode,s=e.anchorOffset,g=e.focusNode,f=e.focusOffset,mr&&vn()?x=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:x=e.isCollapsed):(u=e.startContainer,s=e.startOffset,g=e.endContainer,f=e.endOffset,x=e.collapsed)),u==null||g==null||s==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));var k=p.toSlatePoint(t,[u,s],{exactMatch:a,suppressThrow:i});if(!k)return null;var v=x?k:p.toSlatePoint(t,[g,f],{exactMatch:a,suppressThrow:i});if(!v)return null;var n={anchor:k,focus:v};return M.isExpanded(n)&&M.isForward(n)&&ce(g)&&d.void(t,{at:n.focus,mode:"highest"})&&(n=d.unhangRange(t,n,{voids:!0})),n},hasRange(t,e){var{anchor:r,focus:a}=e;return d.hasPath(t,r.path)&&d.hasPath(t,a.path)},androidScheduleFlush(t){var e;(e=yt.get(t))===null||e===void 0||e()},androidPendingDiffs(t){return se.get(t)}},Se=Ye?b.exports.useLayoutEffect:b.exports.useEffect,En=["anchor","focus"],Cn=["anchor","focus"],Sn=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),wr=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var a=t[r],i=e[r],o=Be(a,En),u=Be(i,Cn);if(!M.equals(a,i)||a[Pe]!==i[Pe]||!Sn(o,u))return!1}return!0},Mn=t=>{var{isLast:e,leaf:r,parent:a,text:i}=t,o=we(),u=p.findPath(o,i),s=$.parent(u),g=r[vr]===!0;return o.isVoid(a)?c(dt,{length:ee.string(a).length}):r.text===""&&a.children[a.children.length-1]===i&&!o.isInline(a)&&d.string(o,s)===""?c(dt,{isLineBreak:!0,isMarkPlaceholder:g}):r.text===""?c(dt,{isMarkPlaceholder:g}):e&&r.text.slice(-1)===`
`?c(Ut,{isTrailing:!0,text:r.text}):c(Ut,{text:r.text})},Ut=t=>{var{text:e,isTrailing:r=!1}=t,a=b.exports.useRef(null),i=()=>"".concat(e!=null?e:"").concat(r?`
`:"");return Se(()=>{var o=i();a.current&&a.current.textContent!==o&&(a.current.textContent=o)}),a.current?c("span",{"data-slate-string":!0,ref:a}):c("span",{"data-slate-string":!0,ref:a,children:i()})},dt=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:a=!1}=t,i={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return a&&(i["data-slate-mark-placeholder"]=!0),Z("span",{...Object.assign({},i),children:[!ve||!r?"\uFEFF":null,r?c("br",{}):null]})},Ct=b.exports.createContext(null),we=()=>{var t=b.exports.useContext(Ct);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},Tn=t=>{var{leaf:e,isLast:r,text:a,parent:i,renderPlaceholder:o,renderLeaf:u=v=>c(Fn,{...Object.assign({},v)})}=t,s=b.exports.useRef(null),g=we();b.exports.useEffect(()=>{var v=s==null?void 0:s.current,n=document.querySelector('[data-slate-editor="true"]');if(!(!v||!n))return n.style.minHeight="".concat(v.clientHeight,"px"),ct.set(g,v),()=>{n.style.minHeight="auto",ct.delete(g)}},[s,e]);var f=c(Mn,{isLast:r,leaf:e,parent:i,text:a});if(e[Pe]){var x={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:s}};f=Z(Ge,{children:[o(x),f]})}var k={"data-slate-leaf":!0};return u({attributes:k,children:f,leaf:e,text:a})},Bn=Ne.memo(Tn,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&ie.equals(e.leaf,t.leaf)&&e.leaf[Pe]===t.leaf[Pe]),Fn=t=>{var{attributes:e,children:r}=t;return c("span",{...Object.assign({},e),children:r})},Pn=t=>{for(var{decorations:e,isLast:r,parent:a,renderPlaceholder:i,renderLeaf:o,text:u}=t,s=we(),g=b.exports.useRef(null),f=ie.decorations(u,e),x=p.findKey(s,u),k=[],v=0;v<f.length;v++){var n=f[v];k.push(c(Bn,{isLast:r&&v===f.length-1,renderPlaceholder:i,leaf:n,text:u,parent:a,renderLeaf:o},"".concat(x.id,"-").concat(v)))}return Se(()=>{var O=et.get(s);g.current?(O==null||O.set(x,g.current),Fe.set(u,g.current),Je.set(g.current,u)):(O==null||O.delete(x),Fe.delete(u))}),c("span",{"data-slate-node":"text",ref:g,children:k})},br=Ne.memo(Pn,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.text===t.text&&wr(e.decorations,t.decorations)),In=t=>{var{decorations:e,element:r,renderElement:a=_=>c(Rn,{...Object.assign({},_)}),renderPlaceholder:i,renderLeaf:o,selection:u}=t,s=we(),g=_n(),f=s.isInline(r),x=p.findKey(s,r),k=b.exports.useCallback(_=>{var I=et.get(s);_?(I==null||I.set(x,_),Fe.set(r,_),Je.set(_,r)):(I==null||I.delete(x),Fe.delete(r))},[s,x,r]),v=kr({decorations:e,node:r,renderElement:a,renderPlaceholder:i,renderLeaf:o,selection:u}),n={"data-slate-node":"element",ref:k};if(f&&(n["data-slate-inline"]=!0),!f&&d.hasInlines(s,r)){var O=ee.string(r),D=Jt(O);D==="rtl"&&(n.dir=D)}if(d.isVoid(s,r)){n["data-slate-void"]=!0,!g&&f&&(n.contentEditable=!1);var E=f?"span":"div",[[B]]=ee.texts(r);v=c(E,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"},children:c(br,{renderPlaceholder:i,decorations:[],isLast:!1,parent:r,text:B})}),xt.set(B,0),kt.set(B,r)}return a({attributes:n,children:v,element:r})},Ln=Ne.memo(In,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&wr(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&M.equals(t.selection,e.selection))),Rn=t=>{var{attributes:e,children:r,element:a}=t,i=we(),o=i.isInline(a)?"span":"div";return c(o,{...Object.assign({},e,{style:{position:"relative"}}),children:r})},xr=b.exports.createContext(()=>[]),An=()=>b.exports.useContext(xr),Nn=b.exports.createContext(!1),kr=t=>{for(var{decorations:e,node:r,renderElement:a,renderPlaceholder:i,renderLeaf:o,selection:u}=t,s=An(),g=we(),f=p.findPath(g,r),x=[],k=Xe.isElement(r)&&!g.isInline(r)&&d.hasInlines(g,r),v=0;v<r.children.length;v++){var n=f.concat(v),O=r.children[v],D=p.findKey(g,O),E=d.range(g,n),B=u&&M.intersection(E,u),_=s([O,n]);for(var I of e){var q=M.intersection(I,E);q&&_.push(q)}Xe.isElement(O)?x.push(c(Nn.Provider,{value:!!B,children:c(Ln,{decorations:_,element:O,renderElement:a,renderPlaceholder:i,renderLeaf:o,selection:B},D.id)},"provider-".concat(D.id))):x.push(c(br,{decorations:_,isLast:k&&v===r.children.length-1,parent:r,renderPlaceholder:i,renderLeaf:o,text:O},D.id)),xt.set(O,v),kt.set(O,r)}return x},Or=b.exports.createContext(!1),_n=()=>b.exports.useContext(Or),yr=b.exports.createContext(null),Wn=()=>{var t=b.exports.useContext(yr);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e},jn=3,Hn={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Un={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Kn={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},z=t=>{var e=Hn[t],r=Un[t],a=Kn[t],i=e&&st(e),o=r&&st(r),u=a&&st(a);return s=>!!(i&&i(s)||Ht&&o&&o(s)||!Ht&&u&&u(s))},X={isBold:z("bold"),isCompose:z("compose"),isMoveBackward:z("moveBackward"),isMoveForward:z("moveForward"),isDeleteBackward:z("deleteBackward"),isDeleteForward:z("deleteForward"),isDeleteLineBackward:z("deleteLineBackward"),isDeleteLineForward:z("deleteLineForward"),isDeleteWordBackward:z("deleteWordBackward"),isDeleteWordForward:z("deleteWordForward"),isExtendBackward:z("extendBackward"),isExtendForward:z("extendForward"),isExtendLineBackward:z("extendLineBackward"),isExtendLineForward:z("extendLineForward"),isItalic:z("italic"),isMoveLineBackward:z("moveLineBackward"),isMoveLineForward:z("moveLineForward"),isMoveWordBackward:z("moveWordBackward"),isMoveWordForward:z("moveWordForward"),isRedo:z("redo"),isSoftBreak:z("insertSoftBreak"),isSplitBlock:z("splitBlock"),isTransposeCharacter:z("transposeCharacter"),isUndo:z("undo")},qn=(t,e)=>{var r=[],a=()=>{r=[]},i=u=>{if(!!e.current){var s=u.filter(g=>Et(t,g,u));r.push(...s)}};function o(){r.reverse().forEach(u=>{if(u.type==="characterData"){u.target.textContent=u.oldValue;return}u.removedNodes.forEach(s=>{u.target.insertBefore(s,u.nextSibling)}),u.addedNodes.forEach(s=>{u.target.removeChild(s)})}),a()}return{registerMutations:i,restoreDOM:o,clear:a}},Vn={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Dr extends b.exports.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,Vn)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=qn(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,a,i=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(i!=null&&i.length){var o;(o=this.manager)===null||o===void 0||o.registerMutations(i)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(a=this.manager)===null||a===void 0||a.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Dr.contextType=Ct;var $n=ve?Dr:t=>{var{children:e}=t;return c(Ge,{children:e})};function zn(t,e){var{path:r,diff:a}=e;if(!d.hasPath(t,r))return!1;var i=ee.get(t,r);if(!ie.isText(i))return!1;if(a.start!==i.text.length||a.text.length===0)return i.text.slice(a.start,a.start+a.text.length)===a.text;var o=$.next(r);if(!d.hasPath(t,o))return!1;var u=ee.get(t,o);return ie.isText(u)&&u.text.startsWith(a.text)}function Yn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>i.slice(0,o.start)+o.text+i.slice(o.end),t)}function Xn(t,e){for(var r=Math.min(t.length,e.length),a=0;a<r;a++)if(t.charAt(a)!==e.charAt(a))return a;return r}function Gn(t,e,r){for(var a=Math.min(t.length,e.length,r),i=0;i<a;i++)if(t.charAt(t.length-i-1)!==e.charAt(e.length-i-1))return i;return a}function Er(t,e){var{start:r,end:a,text:i}=e,o=t.slice(r,a),u=Xn(o,i),s=Math.min(o.length-u,i.length-u),g=Gn(o,i,s),f={start:r+u,end:a-g,text:i.slice(u,i.length-g)};return f.start===f.end&&f.text.length===0?null:f}function Qn(t,e,r){var a=Math.min(e.start,r.start),i=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),o=Yn(t,e,r),u=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-i),s=o.slice(a,u),g=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return Er(t,{start:a,end:g,text:s})}function Zn(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function pt(t,e){var{path:r,offset:a}=e;if(!d.hasPath(t,r))return null;var i=ee.get(t,r);if(!ie.isText(i))return null;var o=d.above(t,{match:s=>d.isBlock(t,s),at:r});if(!o)return null;for(;a>i.text.length;){var u=d.next(t,{at:r,match:ie.isText});if(!u||!$.isDescendant(u[1],o[1]))return null;a-=i.text.length,i=u[0],r=u[1]}return{path:r,offset:a}}function Kt(t,e){var r=pt(t,e.anchor);if(!r)return null;if(M.isCollapsed(e))return{anchor:r,focus:r};var a=pt(t,e.focus);return a?{anchor:r,focus:a}:null}function mt(t,e,r){var a=se.get(t),i=a==null?void 0:a.find(x=>{var{path:k}=x;return $.equals(k,e.path)});if(!i||e.offset<=i.diff.start)return Re.transform(e,r,{affinity:"backward"});var{diff:o}=i;if(e.offset<=o.start+o.text.length){var u={path:e.path,offset:o.start},s=Re.transform(u,r,{affinity:"backward"});return s?{path:s.path,offset:s.offset+e.offset-o.start}:null}var g={path:e.path,offset:e.offset-o.text.length+o.end-o.start},f=Re.transform(g,r,{affinity:"backward"});return f?r.type==="split_node"&&$.equals(r.path,e.path)&&g.offset<r.position&&o.start<r.position?f:{path:f.path,offset:f.offset+o.text.length-o.end+o.start}:null}function qt(t,e,r){var a=mt(t,e.anchor,r);if(!a)return null;if(M.isCollapsed(e))return{anchor:a,focus:a};var i=mt(t,e.focus,r);return i?{anchor:a,focus:i}:null}function Jn(t,e){var{path:r,diff:a,id:i}=t;switch(e.type){case"insert_text":return!$.equals(e.path,r)||e.offset>=a.end?t:e.offset<=a.start?{diff:{start:e.text.length+a.start,end:e.text.length+a.end,text:a.text},id:i,path:r}:{diff:{start:a.start,end:a.end+e.text.length,text:a.text},id:i,path:r};case"remove_text":return!$.equals(e.path,r)||e.offset>=a.end?t:e.offset+e.text.length<=a.start?{diff:{start:a.start-e.text.length,end:a.end-e.text.length,text:a.text},id:i,path:r}:{diff:{start:a.start,end:a.end-e.text.length,text:a.text},id:i,path:r};case"split_node":return!$.equals(e.path,r)||e.position>=a.end?{diff:a,id:i,path:$.transform(r,e,{affinity:"backward"})}:e.position>a.start?{diff:{start:a.start,end:Math.min(e.position,a.end),text:a.text},id:i,path:r}:{diff:{start:a.start-e.position,end:a.end-e.position,text:a.text},id:i,path:$.transform(r,e,{affinity:"forward"})};case"merge_node":return $.equals(e.path,r)?{diff:{start:a.start+e.position,end:a.end+e.position,text:a.text},id:i,path:$.transform(r,e)}:{diff:a,id:i,path:$.transform(r,e)}}var o=$.transform(r,e);return o?{diff:a,path:o,id:i}:null}function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(r),!0).forEach(function(a){Ze(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var ei=25,ti=200,ri=function(){};function ai(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:a}=t,i=!1,o=null,u=null,s=null,g=0,f=!1,x=()=>{var C=ke.get(e);if(ke.delete(e),C){var{selection:F}=e,T=Kt(e,C);T&&(!F||!M.equals(T,F))&&A.select(e,T)}},k=()=>{var C=xe.get(e);if(xe.delete(e),!!C){if(C.at){var F=Re.isPoint(C.at)?pt(e,C.at):Kt(e,C.at);if(!F)return;var T=d.range(e,F);(!e.selection||!M.equals(e.selection,T))&&A.select(e,F)}C.run()}},v=()=>{var C;if(u&&(clearTimeout(u),u=null),s&&(clearTimeout(s),s=null),!q()&&!I()){x();return}i||(i=!0,setTimeout(()=>i=!1)),I()&&(i="action");var F=e.selection&&d.rangeRef(e,e.selection,{affinity:"forward"});pe.set(e,e.marks),ri("flush",xe.get(e),se.get(e));for(var T=!!((C=se.get(e))!==null&&C!==void 0&&C.length),y;y=(G=se.get(e))===null||G===void 0?void 0:G[0];){var G,l,m=fe.get(e);m!==void 0&&(fe.delete(e),e.marks=m),m&&f===!1&&(f=null);var w=Zn(y);(!e.selection||!M.equals(e.selection,w))&&A.select(e,w),y.diff.text?d.insertText(e,y.diff.text):d.deleteFragment(e),se.set(e,(l=se.get(e))===null||l===void 0?void 0:l.filter(j=>{var{id:H}=j;return H!==y.id})),zn(e,y)||(T=!1,xe.delete(e),pe.delete(e),i="action",ke.delete(e),r.cancel(),a.cancel(),F==null||F.unref())}var S=F==null?void 0:F.unref();if(S&&!ke.get(e)&&(!e.selection||!M.equals(S,e.selection))&&A.select(e,S),I()){k();return}T&&r(),r.flush(),a.flush(),x();var P=pe.get(e);pe.delete(e),P!==void 0&&(e.marks=P,e.onChange())},n=C=>{o&&clearTimeout(o),o=setTimeout(()=>{Ce.set(e,!1),v()},ei)},O=C=>{Ce.set(e,!0),o&&(clearTimeout(o),o=null)},D=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=ct.get(e);if(!!T){if(q()||F){T.style.display="none";return}T.style.removeProperty("display")}},E=(C,F)=>{var T,y=(T=se.get(e))!==null&&T!==void 0?T:[];se.set(e,y);var G=ee.leaf(e,C),l=y.findIndex(S=>$.equals(S.path,C));if(l<0){var m=Er(G.text,F);m&&y.push({path:C,diff:F,id:g++}),D();return}var w=Qn(G.text,y[l].diff,F);if(!w){y.splice(l,1),D();return}y[l]=Ve(Ve({},y[l]),{},{diff:w})},B=function(F){var{at:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,ke.delete(e),r.cancel(),a.cancel(),I()&&v(),xe.set(e,{at:T,run:F}),s=setTimeout(v)},_=C=>{var F;u&&(clearTimeout(u),u=null);var{inputType:T}=C,y=null,G=C.dataTransfer||C.data||void 0;f!==!1&&T!=="insertText"&&T!=="insertCompositionText"&&(f=!1);var[l]=C.getTargetRanges();l&&(y=p.toSlateRange(e,l,{exactMatch:!1,suppressThrow:!0}));var m=p.getWindow(e),w=m.getSelection();if(!y&&w&&(l=w,y=p.toSlateRange(e,w,{exactMatch:!1,suppressThrow:!0})),y=(F=y)!==null&&F!==void 0?F:e.selection,!!y){if(M.isExpanded(y)&&T.startsWith("delete")){var[S,P]=M.edges(y),j=ee.leaf(e,S.path);if(j.text.length===S.offset&&P.offset===0){var H=d.next(e,{at:S.path,match:ie.isText});H&&$.equals(H[1],P.path)&&(y={anchor:P,focus:P})}}if(M.isExpanded(y)&&T.startsWith("delete")){if($.equals(y.anchor.path,y.focus.path)){var[K,Q]=M.edges(y);return E(y.anchor.path,{text:"",end:Q.offset,start:K.offset})}var J=T.endsWith("Backward")?"backward":"forward";return B(()=>d.deleteFragment(e,{direction:J}),{at:y})}switch(T){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return B(()=>d.deleteFragment(e),{at:y});case"deleteContent":case"deleteContentForward":{var{anchor:Y}=y;if(M.isCollapsed(y)){var le=ee.leaf(e,Y.path);if(Y.offset<le.text.length)return E(Y.path,{text:"",start:Y.offset,end:Y.offset+1})}return B(()=>d.deleteForward(e),{at:y})}case"deleteContentBackward":{var re,{anchor:ae}=y,he=ht(l)?l.isCollapsed:!!((re=l)!==null&&re!==void 0&&re.collapsed);return he&&M.isCollapsed(y)&&ae.offset>0?E(ae.path,{text:"",start:ae.offset-1,end:ae.offset}):B(()=>d.deleteBackward(e),{at:y})}case"deleteEntireSoftLine":return B(()=>{d.deleteBackward(e,{unit:"line"}),d.deleteForward(e,{unit:"line"})},{at:y});case"deleteHardLineBackward":return B(()=>d.deleteBackward(e,{unit:"block"}),{at:y});case"deleteSoftLineBackward":return B(()=>d.deleteBackward(e,{unit:"line"}),{at:y});case"deleteHardLineForward":return B(()=>d.deleteForward(e,{unit:"block"}),{at:y});case"deleteSoftLineForward":return B(()=>d.deleteForward(e,{unit:"line"}),{at:y});case"deleteWordBackward":return B(()=>d.deleteBackward(e,{unit:"word"}),{at:y});case"deleteWordForward":return B(()=>d.deleteForward(e,{unit:"word"}),{at:y});case"insertLineBreak":return B(()=>d.insertSoftBreak(e),{at:y});case"insertParagraph":return B(()=>d.insertBreak(e),{at:y});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if((G==null?void 0:G.constructor.name)==="DataTransfer")return B(()=>p.insertData(e,G),{at:y});if(typeof G=="string"&&G.includes(`
`))return B(()=>d.insertSoftBreak(e),{at:M.end(y)});var de=G!=null?G:"";if(fe.get(e)&&(de=de.replace("\uFEFF","")),$.equals(y.anchor.path,y.focus.path)){var[te,_e]=M.edges(y),ge={start:te.offset,end:_e.offset,text:de};if(de&&f&&T==="insertCompositionText"){var We=f.start+f.text.search(/\S|$/),tt=ge.start+ge.text.search(/\S|$/);tt===We+1&&ge.end===f.start+f.text.length?(ge.start-=1,f=null,U()):f=!1}else T==="insertText"?f===null?f=ge:f&&M.isCollapsed(y)&&f.end+f.text.length===te.offset?f=Ve(Ve({},f),{},{text:f.text+de}):f=!1:f=!1;E(te.path,ge);return}return B(()=>d.insertText(e,de),{at:y})}}}},I=()=>!!xe.get(e),q=()=>{var C;return!!((C=se.get(e))!==null&&C!==void 0&&C.length)},N=()=>I()||q(),L=()=>i,R=C=>{ke.set(e,C),u&&(clearTimeout(u),u=null);var{selection:F}=e;if(!!C){var T=!F||!$.equals(F.anchor.path,C.anchor.path),y=!F||!$.equals(F.anchor.path.slice(0,-1),C.anchor.path.slice(0,-1));(T&&f||y)&&(f=!1),(T||!q())&&(u=setTimeout(v,ti))}},h=()=>{(I()||!q())&&v()},W=C=>{q()||(D(!0),setTimeout(D))},U=()=>{I()||(s=setTimeout(v))},V=C=>{if(!(q()||I())&&C.some(T=>Et(e,T,C))){var F;(F=fr.get(e))===null||F===void 0||F()}};return{flush:v,scheduleFlush:U,hasPendingDiffs:q,hasPendingAction:I,hasPendingChanges:N,isFlushing:L,handleUserSelect:R,handleCompositionEnd:n,handleCompositionStart:O,handleDOMBeforeInput:_,handleKeyDown:W,handleDomMutations:V,handleInput:h}}function ni(){var t=b.exports.useRef(!1);return b.exports.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}function ii(t,e,r){var[a]=b.exports.useState(()=>new MutationObserver(e));Se(()=>{a.takeRecords()}),b.exports.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return a.observe(t.current,r),()=>a.disconnect()},[])}var oi=["node"];function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$t(Object(r),!0).forEach(function(a){Ze(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var li={subtree:!0,childList:!0,characterData:!0};function di(t){var{node:e}=t,r=Be(t,oi);if(!ve)return null;var a=we(),i=ni(),[o]=b.exports.useState(()=>ai(si({editor:a},r)));return ii(e,o.handleDomMutations,li),yt.set(a,o.scheduleFlush),i&&o.flush(),o}function ui(){var t=we(),e=b.exports.useRef(!1),r=b.exports.useRef(0),a=b.exports.useCallback(()=>{if(!e.current){e.current=!0;var i=p.getWindow(t);i.cancelAnimationFrame(r.current),r.current=i.requestAnimationFrame(()=>{e.current=!1})}},[]);return b.exports.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:a}}var ci=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],fi=["text"];function zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zt(Object(r),!0).forEach(function(a){Ze(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var vi=t=>c(Ge,{children:kr(t)}),hi=t=>{var{autoFocus:e,decorate:r=pi,onDOMBeforeInput:a,placeholder:i,readOnly:o=!1,renderElement:u,renderLeaf:s,renderPlaceholder:g=l=>c(gi,{...Object.assign({},l)}),scrollSelectionIntoView:f=mi,style:x={},as:k="div"}=t,v=Be(t,ci),n=Wn(),[O,D]=b.exports.useState(!1),E=b.exports.useRef(null),B=b.exports.useRef([]),{onUserInput:_,receivedUserInput:I}=ui(),[,q]=b.exports.useReducer(l=>l+1,0);fr.set(n,q),Ot.set(n,o);var N=b.exports.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);b.exports.useEffect(()=>{E.current&&e&&E.current.focus()},[e]);var L=b.exports.useCallback(Za(()=>{if((ve||!p.isComposing(n))&&(!N.isUpdatingSelection||h!=null&&h.isFlushing())&&!N.isDraggingInternally){var l=p.findDocumentOrShadowRoot(n),{activeElement:m}=l,w=p.toDOMNode(n,n),S=l.getSelection();if(m===w?(N.latestElement=m,Ee.set(n,!0)):Ee.delete(n),!S)return A.deselect(n);var{anchorNode:P,focusNode:j}=S,H=ue(n,P)||Yt(n,P),K=ue(n,j)||Yt(n,j);if(H&&K){var Q=p.toSlateRange(n,S,{exactMatch:!1,suppressThrow:!0});Q&&(!p.isComposing(n)&&!(h!=null&&h.hasPendingChanges())&&!(h!=null&&h.isFlushing())?A.select(n,Q):h==null||h.handleUserSelect(Q))}o&&(!H||!K)&&A.deselect(n)}},100),[o]),R=b.exports.useMemo(()=>ir(L,0),[L]),h=di({node:E,onDOMSelectionChange:L,scheduleOnDOMSelectionChange:R});Se(()=>{var l;E.current&&(l=Dt(E.current))?(cr.set(n,l),ut.set(n,E.current),Fe.set(n,E.current),Je.set(E.current,n)):Fe.delete(n);var{selection:m}=n,w=p.findDocumentOrShadowRoot(n),S=w.getSelection();if(!(!S||!p.isFocused(n)||h!=null&&h.hasPendingAction())){var P=J=>{var Y=S.type!=="None";if(!(!m&&!Y)){var le=ut.get(n),re=!1;if(le.contains(S.anchorNode)&&le.contains(S.focusNode)&&(re=!0),Y&&re&&m&&!J){var ae=p.toSlateRange(n,S,{exactMatch:!0,suppressThrow:!0});if(ae&&M.equals(ae,m)){var he;if(!N.hasMarkPlaceholder)return;var{anchorNode:de}=S;if(de!=null&&(he=de.parentElement)!==null&&he!==void 0&&he.hasAttribute("data-slate-mark-placeholder"))return}}if(m&&!p.hasRange(n,m)){n.selection=p.toSlateRange(n,S,{exactMatch:!1,suppressThrow:!0});return}N.isUpdatingSelection=!0;var te=m&&p.toDOMRange(n,m);return te?(M.isBackward(m)?S.setBaseAndExtent(te.endContainer,te.endOffset,te.startContainer,te.startOffset):S.setBaseAndExtent(te.startContainer,te.startOffset,te.endContainer,te.endOffset),f(n,te)):S.removeAllRanges(),te}},j=P(),H=(h==null?void 0:h.isFlushing())==="action";if(!ve||!H){setTimeout(()=>{if(j&&gt){var J=p.toDOMNode(n,n);J.focus()}N.isUpdatingSelection=!1});return}var K=null,Q=requestAnimationFrame(()=>{if(H){var J=Y=>{try{var le=p.toDOMNode(n,n);le.focus(),P(Y)}catch{}};J(),K=setTimeout(()=>{J(!0),N.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Q),K&&clearTimeout(K)}}});var W=b.exports.useCallback(l=>{if(_(),!o&&ue(n,l.target)&&!wi(l,a)){var m;if(h)return h.handleDOMBeforeInput(l);R.flush(),L.flush();var{selection:w}=n,{inputType:S}=l,P=l.dataTransfer||l.data||void 0,j=S==="insertCompositionText"||S==="deleteCompositionText";if(j&&p.isComposing(n))return;var H=!1;if(S==="insertText"&&w&&M.isCollapsed(w)&&l.data&&l.data.length===1&&/[a-z ]/i.test(l.data)&&w.anchor.offset!==0){var K,Q;H=!0,n.marks&&(H=!1);var{anchor:J}=w,[Y,le]=p.toDOMPoint(n,J),re=(K=Y.parentElement)===null||K===void 0?void 0:K.closest("a"),ae=p.getWindow(n);if(H&&re&&p.hasDOMNode(n,re)){var he,de=ae==null?void 0:ae.document.createTreeWalker(re,NodeFilter.SHOW_TEXT).lastChild();de===Y&&((he=de.textContent)===null||he===void 0?void 0:he.length)===le&&(H=!1)}if(H&&Y.parentElement&&(ae==null||(Q=ae.getComputedStyle(Y.parentElement))===null||Q===void 0?void 0:Q.whiteSpace)==="pre"){var te=d.above(n,{at:J.path,match:Cr=>d.isBlock(n,Cr)});te&&ee.string(te[0]).includes("	")&&(H=!1)}}if(!S.startsWith("delete")||S.startsWith("deleteBy")){var[_e]=l.getTargetRanges();if(_e){var ge=p.toSlateRange(n,_e,{exactMatch:!1,suppressThrow:!1});if(!w||!M.equals(w,ge)){H=!1;var We=!j&&n.selection&&d.rangeRef(n,n.selection);A.select(n,ge),We&&Ae.set(n,We)}}}if(j)return;if(H||l.preventDefault(),w&&M.isExpanded(w)&&S.startsWith("delete")){var tt=S.endsWith("Backward")?"backward":"forward";d.deleteFragment(n,{direction:tt});return}switch(S){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{d.deleteFragment(n);break}case"deleteContent":case"deleteContentForward":{d.deleteForward(n);break}case"deleteContentBackward":{d.deleteBackward(n);break}case"deleteEntireSoftLine":{d.deleteBackward(n,{unit:"line"}),d.deleteForward(n,{unit:"line"});break}case"deleteHardLineBackward":{d.deleteBackward(n,{unit:"block"});break}case"deleteSoftLineBackward":{d.deleteBackward(n,{unit:"line"});break}case"deleteHardLineForward":{d.deleteForward(n,{unit:"block"});break}case"deleteSoftLineForward":{d.deleteForward(n,{unit:"line"});break}case"deleteWordBackward":{d.deleteBackward(n,{unit:"word"});break}case"deleteWordForward":{d.deleteForward(n,{unit:"word"});break}case"insertLineBreak":d.insertSoftBreak(n);break;case"insertParagraph":{d.insertBreak(n);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{var{selection:St}=n;St&&M.isExpanded(St)&&d.deleteFragment(n),S==="insertFromComposition"&&p.isComposing(n)&&(D(!1),Ce.set(n,!1)),(P==null?void 0:P.constructor.name)==="DataTransfer"?p.insertData(n,P):typeof P=="string"&&(H?B.current.push(()=>d.insertText(n,P)):d.insertText(n,P));break}}var rt=(m=Ae.get(n))===null||m===void 0?void 0:m.unref();Ae.delete(n),rt&&(!n.selection||!M.equals(n.selection,rt))&&A.select(n,rt)}},[o,a]);Se(()=>(E.current&&be&&E.current.addEventListener("beforeinput",W),()=>{E.current&&be&&E.current.removeEventListener("beforeinput",W)}),[W]),Se(()=>{var l=p.getWindow(n);return l.document.addEventListener("selectionchange",R),()=>{l.document.removeEventListener("selectionchange",R)}},[R]);var U=r([n,[]]);if(i&&n.children.length===1&&Array.from(ee.texts(n)).length===1&&ee.string(n)===""&&!O){var V=d.start(n,[]);U.push({[Pe]:!0,placeholder:i,anchor:V,focus:V})}var{marks:C}=n;if(N.hasMarkPlaceholder=!1,n.selection&&M.isCollapsed(n.selection)&&C){var{anchor:F}=n.selection,T=ee.leaf(n,F.path),y=Be(T,fi);if(!ie.equals(T,C,{loose:!0})){N.hasMarkPlaceholder=!0;var G=Object.fromEntries(Object.keys(y).map(l=>[l,null]));U.push($e($e($e({[vr]:!0},G),C),{},{anchor:F,focus:F}))}}return b.exports.useEffect(()=>{setTimeout(()=>{var{selection:l}=n;if(l){var{anchor:m}=l,w=ee.leaf(n,m.path);if(C&&!ie.equals(w,C,{loose:!0})){fe.set(n,C);return}}fe.delete(n)})}),c(Or.Provider,{value:o,children:c(xr.Provider,{value:r,children:c($n,{node:E,receivedUserInput:I,children:c(k,{...Object.assign({role:o?void 0:"textbox","aria-multiline":o?void 0:!0},v,{spellCheck:be||!Ye?v.spellCheck:!1,autoCorrect:be||!Ye?v.autoCorrect:"false",autoCapitalize:be||!Ye?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!o,zindex:-1,suppressContentEditableWarning:!0,ref:E,style:$e({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},x),onBeforeInput:b.exports.useCallback(l=>{if(!be&&!o&&!oe(l,v.onBeforeInput)&&ue(n,l.target)&&(l.preventDefault(),!p.isComposing(n))){var m=l.data;d.insertText(n,m)}},[o]),onInput:b.exports.useCallback(l=>{if(h){h.handleInput();return}for(var m of B.current)m();B.current=[]},[]),onBlur:b.exports.useCallback(l=>{if(!(o||N.isUpdatingSelection||!ue(n,l.target)||oe(l,v.onBlur))){var m=p.findDocumentOrShadowRoot(n);if(N.latestElement!==m.activeElement){var{relatedTarget:w}=l,S=p.toDOMNode(n,n);if(w!==S&&!(ce(w)&&w.hasAttribute("data-slate-spacer"))){if(w!=null&&Me(w)&&p.hasDOMNode(n,w)){var P=p.toSlateNode(n,w);if(Xe.isElement(P)&&!n.isVoid(P))return}if(lt){var j=m.getSelection();j==null||j.removeAllRanges()}Ee.delete(n)}}}},[o,v.onBlur]),onClick:b.exports.useCallback(l=>{if(Te(n,l.target)&&!oe(l,v.onClick)&&Me(l.target)){var m=p.toSlateNode(n,l.target),w=p.findPath(n,m);if(!d.hasPath(n,w)||ee.get(n,w)!==m)return;if(l.detail===jn&&w.length>=1){var S=w;if(!d.isBlock(n,m)){var P,j=d.above(n,{match:re=>d.isBlock(n,re),at:w});S=(P=j==null?void 0:j[1])!==null&&P!==void 0?P:w.slice(0,1)}var H=d.range(n,S);A.select(n,H);return}if(o)return;var K=d.start(n,w),Q=d.end(n,w),J=d.void(n,{at:K}),Y=d.void(n,{at:Q});if(J&&Y&&$.equals(J[1],Y[1])){var le=d.range(n,K);A.select(n,le)}}},[o,v.onClick]),onCompositionEnd:b.exports.useCallback(l=>{if(ue(n,l.target)){if(p.isComposing(n)&&(D(!1),Ce.set(n,!1)),h==null||h.handleCompositionEnd(l),oe(l,v.onCompositionEnd)||ve)return;if(!lt&&!kn&&!wn&&!On&&!Dn&&!yn&&l.data){var m=fe.get(n);fe.delete(n),m!==void 0&&(pe.set(n,n.marks),n.marks=m),d.insertText(n,l.data);var w=pe.get(n);pe.delete(n),w!==void 0&&(n.marks=w)}}},[v.onCompositionEnd]),onCompositionUpdate:b.exports.useCallback(l=>{ue(n,l.target)&&!oe(l,v.onCompositionUpdate)&&(p.isComposing(n)||(D(!0),Ce.set(n,!0)))},[v.onCompositionUpdate]),onCompositionStart:b.exports.useCallback(l=>{if(ue(n,l.target)){if(h==null||h.handleCompositionStart(l),oe(l,v.onCompositionStart)||ve)return;D(!0);var{selection:m}=n;if(m){if(M.isExpanded(m)){d.deleteFragment(n);return}var w=d.above(n,{match:j=>d.isInline(n,j),mode:"highest"});if(w){var[,S]=w;if(d.isEnd(n,m.anchor,S)){var P=d.after(n,S);A.setSelection(n,{anchor:P,focus:P})}}}}},[v.onCompositionStart]),onCopy:b.exports.useCallback(l=>{ue(n,l.target)&&!oe(l,v.onCopy)&&(l.preventDefault(),p.setFragmentData(n,l.clipboardData,"copy"))},[v.onCopy]),onCut:b.exports.useCallback(l=>{if(!o&&ue(n,l.target)&&!oe(l,v.onCut)){l.preventDefault(),p.setFragmentData(n,l.clipboardData,"cut");var{selection:m}=n;if(m)if(M.isExpanded(m))d.deleteFragment(n);else{var w=ee.parent(n,m.anchor.path);d.isVoid(n,w)&&A.delete(n)}}},[o,v.onCut]),onDragOver:b.exports.useCallback(l=>{if(Te(n,l.target)&&!oe(l,v.onDragOver)){var m=p.toSlateNode(n,l.target);d.isVoid(n,m)&&l.preventDefault()}},[v.onDragOver]),onDragStart:b.exports.useCallback(l=>{if(!o&&Te(n,l.target)&&!oe(l,v.onDragStart)){var m=p.toSlateNode(n,l.target),w=p.findPath(n,m),S=d.isVoid(n,m)||d.void(n,{at:w,voids:!0});if(S){var P=d.range(n,w);A.select(n,P)}N.isDraggingInternally=!0,p.setFragmentData(n,l.dataTransfer,"drag")}},[o,v.onDragStart]),onDrop:b.exports.useCallback(l=>{if(!o&&Te(n,l.target)&&!oe(l,v.onDrop)){l.preventDefault();var m=n.selection,w=p.findEventRange(n,l),S=l.dataTransfer;A.select(n,w),N.isDraggingInternally&&m&&!M.equals(m,w)&&!d.void(n,{at:w,voids:!0})&&A.delete(n,{at:m}),p.insertData(n,S),p.isFocused(n)||p.focus(n)}N.isDraggingInternally=!1},[o,v.onDrop]),onDragEnd:b.exports.useCallback(l=>{!o&&N.isDraggingInternally&&v.onDragEnd&&Te(n,l.target)&&v.onDragEnd(l),N.isDraggingInternally=!1},[o,v.onDragEnd]),onFocus:b.exports.useCallback(l=>{if(!o&&!N.isUpdatingSelection&&ue(n,l.target)&&!oe(l,v.onFocus)){var m=p.toDOMNode(n,n),w=p.findDocumentOrShadowRoot(n);if(N.latestElement=w.activeElement,gt&&l.target!==m){m.focus();return}Ee.set(n,!0)}},[o,v.onFocus]),onKeyDown:b.exports.useCallback(l=>{if(!o&&ue(n,l.target)){h==null||h.handleKeyDown(l);var{nativeEvent:m}=l;if(p.isComposing(n)&&m.isComposing===!1&&(Ce.set(n,!1),D(!1)),oe(l,v.onKeyDown)||p.isComposing(n))return;var{selection:w}=n,S=n.children[w!==null?w.focus.path[0]:0],P=Jt(ee.string(S))==="rtl";if(X.isRedo(m)){l.preventDefault();var j=n;typeof j.redo=="function"&&j.redo();return}if(X.isUndo(m)){l.preventDefault();var H=n;typeof H.undo=="function"&&H.undo();return}if(X.isMoveLineBackward(m)){l.preventDefault(),A.move(n,{unit:"line",reverse:!0});return}if(X.isMoveLineForward(m)){l.preventDefault(),A.move(n,{unit:"line"});return}if(X.isExtendLineBackward(m)){l.preventDefault(),A.move(n,{unit:"line",edge:"focus",reverse:!0});return}if(X.isExtendLineForward(m)){l.preventDefault(),A.move(n,{unit:"line",edge:"focus"});return}if(X.isMoveBackward(m)){l.preventDefault(),w&&M.isCollapsed(w)?A.move(n,{reverse:!P}):A.collapse(n,{edge:"start"});return}if(X.isMoveForward(m)){l.preventDefault(),w&&M.isCollapsed(w)?A.move(n,{reverse:P}):A.collapse(n,{edge:"end"});return}if(X.isMoveWordBackward(m)){l.preventDefault(),w&&M.isExpanded(w)&&A.collapse(n,{edge:"focus"}),A.move(n,{unit:"word",reverse:!P});return}if(X.isMoveWordForward(m)){l.preventDefault(),w&&M.isExpanded(w)&&A.collapse(n,{edge:"focus"}),A.move(n,{unit:"word",reverse:P});return}if(be){if((mr||lt)&&w&&(X.isDeleteBackward(m)||X.isDeleteForward(m))&&M.isCollapsed(w)){var K=ee.parent(n,w.anchor.path);if(Xe.isElement(K)&&d.isVoid(n,K)&&(d.isInline(n,K)||d.isBlock(n,K))){l.preventDefault(),d.deleteBackward(n,{unit:"block"});return}}}else{if(X.isBold(m)||X.isItalic(m)||X.isTransposeCharacter(m)){l.preventDefault();return}if(X.isSoftBreak(m)){l.preventDefault(),d.insertSoftBreak(n);return}if(X.isSplitBlock(m)){l.preventDefault(),d.insertBreak(n);return}if(X.isDeleteBackward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"backward"}):d.deleteBackward(n);return}if(X.isDeleteForward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"forward"}):d.deleteForward(n);return}if(X.isDeleteLineBackward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"backward"}):d.deleteBackward(n,{unit:"line"});return}if(X.isDeleteLineForward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"forward"}):d.deleteForward(n,{unit:"line"});return}if(X.isDeleteWordBackward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"backward"}):d.deleteBackward(n,{unit:"word"});return}if(X.isDeleteWordForward(m)){l.preventDefault(),w&&M.isExpanded(w)?d.deleteFragment(n,{direction:"forward"}):d.deleteForward(n,{unit:"word"});return}}}},[o,v.onKeyDown]),onPaste:b.exports.useCallback(l=>{!o&&ue(n,l.target)&&!oe(l,v.onPaste)&&(!be||cn(l.nativeEvent))&&(l.preventDefault(),p.insertData(n,l.clipboardData))},[o,v.onPaste])}),children:c(vi,{decorations:U,node:n,renderElement:u,renderPlaceholder:g,renderLeaf:s,selection:n.selection})})})})})},gi=t=>{var{attributes:e,children:r}=t;return Z("span",{...Object.assign({},e),children:[r,ve&&c("br",{})]})},pi=()=>[],mi=(t,e)=>{if(!t.selection||t.selection&&M.isCollapsed(t.selection)){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),tn(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Te=(t,e)=>Me(e)&&p.hasDOMNode(t,e),ue=(t,e)=>Me(e)&&p.hasDOMNode(t,e,{editable:!0}),Yt=(t,e)=>{if(Ot.get(t))return!1;var r=Te(t,e)&&p.toSlateNode(t,e);return d.isVoid(t,r)},oe=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},wi=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},bi=b.exports.createContext(!1),xi=b.exports.createContext({});function ki(t){var e=b.exports.useRef([]).current,r=b.exports.useRef({editor:t}).current,a=b.exports.useCallback(o=>{r.editor=o,e.forEach(u=>u(o))},[]),i=b.exports.useMemo(()=>({getSlate:()=>r.editor,addEventListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1)})}),[e,r]);return{selectorContext:i,onChange:a}}var Oi=["editor","children","onChange","value"],yi=t=>{var{editor:e,children:r,onChange:a,value:i}=t,o=Be(t,Oi),u=b.exports.useRef(!1),[s,g]=Ne.useState(()=>{if(!ee.isNodeList(i))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(Le.stringify(i)));if(!d.isEditor(e))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(Le.stringify(e)));return e.children=i,Object.assign(e,o),{v:0,editor:e}}),{selectorContext:f,onChange:x}=ki(e),k=b.exports.useCallback(()=>{a&&a(e.children),g(O=>({v:O.v+1,editor:e})),x(e)},[a]);vt.set(e,k),b.exports.useEffect(()=>()=>{vt.set(e,()=>{}),u.current=!0},[]);var[v,n]=b.exports.useState(p.isFocused(e));return b.exports.useEffect(()=>{n(p.isFocused(e))}),Se(()=>{var O=()=>n(p.isFocused(e));return mn?(document.addEventListener("focusin",O),document.addEventListener("focusout",O),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",O)}):(document.addEventListener("focus",O,!0),document.addEventListener("blur",O,!0),()=>{document.removeEventListener("focus",O,!0),document.removeEventListener("blur",O,!0)})},[]),c(xi.Provider,{value:f,children:c(yr.Provider,{value:s,children:c(Ct.Provider,{value:s.editor,children:c(bi.Provider,{value:v,children:r})})})})},Xt=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},Gt=(t,e,r)=>{var a=p.toDOMRange(t,e).getBoundingClientRect(),i=p.toDOMRange(t,r).getBoundingClientRect();return Xt(a,i)&&Xt(i,a)},Di=(t,e)=>{var r=d.range(t,M.end(e)),a=Array.from(d.positions(t,{at:e})),i=0,o=a.length,u=Math.floor(o/2);if(Gt(t,d.range(t,a[i]),r))return d.range(t,a[i],r);if(a.length<2)return d.range(t,a[a.length-1],r);for(;u!==a.length&&u!==i;)Gt(t,d.range(t,a[u]),r)?o=u:i=u,u=Math.floor((i+o)/2);return d.range(t,a[o],r)};function Qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qt(Object(r),!0).forEach(function(a){Ze(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var Ei=t=>{var e=t,{apply:r,onChange:a,deleteBackward:i,addMark:o,removeMark:u}=e;return et.set(e,new WeakMap),e.addMark=(s,g)=>{var f,x;(f=yt.get(e))===null||f===void 0||f(),!fe.get(e)&&(x=se.get(e))!==null&&x!==void 0&&x.length&&fe.set(e,null),pe.delete(e),o(s,g)},e.removeMark=s=>{var g;!fe.get(e)&&(g=se.get(e))!==null&&g!==void 0&&g.length&&fe.set(e,null),pe.delete(e),u(s)},e.deleteBackward=s=>{if(s!=="line")return i(s);if(e.selection&&M.isCollapsed(e.selection)){var g=d.above(e,{match:v=>d.isBlock(e,v),at:e.selection});if(g){var[,f]=g,x=d.range(e,f,e.selection.anchor),k=Di(e,x);M.isCollapsed(k)||A.delete(e,{at:k})}}},e.apply=s=>{var g=[],f=se.get(e);if(f!=null&&f.length){var x=f.map(q=>Jn(q,s)).filter(Boolean);se.set(e,x)}var k=ke.get(e);k&&ke.set(e,qt(e,k,s));var v=xe.get(e);if(v!=null&&v.at){var n=Re.isPoint(v==null?void 0:v.at)?mt(e,v.at,s):qt(e,v.at,s);xe.set(e,n?Zt(Zt({},v),{},{at:n}):null)}switch(s.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{g.push(...ze(e,s.path));break}case"set_selection":{var O;(O=Ae.get(e))===null||O===void 0||O.unref(),Ae.delete(e);break}case"insert_node":case"remove_node":{g.push(...ze(e,$.parent(s.path)));break}case"merge_node":{var D=$.previous(s.path);g.push(...ze(e,D));break}case"move_node":{var E=$.common($.parent(s.path),$.parent(s.newPath));g.push(...ze(e,E));break}}r(s);for(var[B,_]of g){var[I]=d.node(e,B);ft.set(I,_)}},e.setFragmentData=s=>{var{selection:g}=e;if(!!g){var[f,x]=M.edges(g),k=d.void(e,{at:f.path}),v=d.void(e,{at:x.path});if(!(M.isCollapsed(g)&&!k)){var n=p.toDOMRange(e,g),O=n.cloneContents(),D=O.childNodes[0];if(O.childNodes.forEach(h=>{h.textContent&&h.textContent.trim()!==""&&(D=h)}),v){var[E]=v,B=n.cloneRange(),_=p.toDOMNode(e,E);B.setEndAfter(_),O=B.cloneContents()}if(k&&(D=O.querySelector("[data-slate-spacer]")),Array.from(O.querySelectorAll("[data-slate-zero-width]")).forEach(h=>{var W=h.getAttribute("data-slate-zero-width")==="n";h.textContent=W?`
`:""}),hr(D)){var I=D.ownerDocument.createElement("span");I.style.whiteSpace="pre",I.appendChild(D),O.appendChild(I),D=I}var q=e.getFragment(),N=JSON.stringify(q),L=window.btoa(encodeURIComponent(N));D.setAttribute("data-slate-fragment",L),s.setData("application/x-slate-fragment",L);var R=O.ownerDocument.createElement("div");return R.appendChild(O),R.setAttribute("hidden","true"),O.ownerDocument.body.appendChild(R),s.setData("text/html",R.innerHTML),s.setData("text/plain",pr(R)),O.ownerDocument.body.removeChild(R),s}}},e.insertData=s=>{e.insertFragmentData(s)||e.insertTextData(s)},e.insertFragmentData=s=>{var g=s.getData("application/x-slate-fragment")||pn(s);if(g){var f=decodeURIComponent(window.atob(g)),x=JSON.parse(f);return e.insertFragment(x),!0}return!1},e.insertTextData=s=>{var g=s.getData("text/plain");if(g){var f=g.split(/\r\n|\r|\n/),x=!1;for(var k of f)x&&A.splitNodes(e,{always:!0}),e.insertText(k),x=!0;return!0}return!1},e.onChange=()=>{Sr.unstable_batchedUpdates(()=>{var s=vt.get(e);s&&s(),a()})},e},ze=(t,e)=>{var r=[];for(var[a,i]of d.levels(t,{at:e})){var o=p.findKey(t,a);r.push([i,o])}return r};const Ci=({attributes:t,children:e})=>c("p",{...t,children:e}),Si=({attributes:t,children:e,leaf:r})=>c("span",{...t,style:{fontWeight:r.bold!==void 0?"bold":"inherit",fontStyle:r.italic!==void 0?"italic":"inherit",textDecoration:r.strikethrough!==void 0?"line-through":"inherit"},children:e}),De=({handleClick:t,children:e})=>c("button",{onClick:t,className:"p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100",children:e}),Mi=({toggleHeadingOneBlock:t,toggleHeadingTwoBlock:e,toggleBlockquoteBlock:r,toggleBoldMark:a,toggleItalicMark:i,toggleStrikethroughMark:o,toggleUnorderedBlock:u})=>(we(),c("div",{className:"flex justify-between items-center py-2 px-3 border-b",children:Z("div",{className:"flex flex-wrap items-center divide-gray-200 sm:divide-x",children:[Z("div",{className:"flex items-center space-x-1 sm:pr-4",children:[c(De,{handleClick:t,children:c(Oe,{children:c(Hr,{})})}),c(De,{handleClick:e,children:c(Oe,{children:c(Ur,{})})}),c(De,{handleClick:r,children:c(Oe,{children:c(Vr,{})})}),c(De,{handleClick:u,children:c(Oe,{children:c(qr,{})})})]}),Z("div",{className:"flex flex-wrap items-center space-x-1 sm:pl-4",children:[c(De,{handleClick:a,children:c(Oe,{children:c(jr,{})})}),c(De,{handleClick:i,children:c(Oe,{children:c(Kr,{})})}),c(De,{handleClick:o,children:c(Oe,{children:c($r,{})})})]})]})})),ne={isBoldMarkActive(t){const[e]=d.nodes(t,{match:r=>ie.isText(r)&&r.bold===!0,universal:!0});return!!e},isItalicMarkActive(t){const[e]=d.nodes(t,{match:r=>ie.isText(r)&&r.italic===!0,universal:!0});return!!e},isStrikethroughMarkActive(t){const[e]=d.nodes(t,{match:r=>ie.isText(r)&&r.strikethrough===!0,universal:!0});return!!e},isHeadingOneBlockActive(t){const[e]=d.nodes(t,{match:r=>d.isBlock(t,r)&&r.type==="heading-1"});return!!e},isHeadingTwoBlockActive(t){const[e]=d.nodes(t,{match:r=>d.isBlock(t,r)&&r.type==="heading-2"});return!!e},isBlockquoteActive(t){const[e]=d.nodes(t,{match:r=>d.isBlock(t,r)&&r.type==="blockquote"});return!!e},isUnorderedActive(t){const[e]=d.nodes(t,{match:r=>d.isBlock(t,r)&&r.type==="unordered"});return!!e},toggleBoldMark(t){const e=ne.isBoldMarkActive(t);A.setNodes(t,{bold:e?void 0:!0},{match:r=>ie.isText(r),split:!0})},toggleItalicMark(t){const e=ne.isItalicMarkActive(t);A.setNodes(t,{italic:e?void 0:!0},{match:r=>ie.isText(r),split:!0})},toggleStrikethroughMark(t){const e=ne.isStrikethroughMarkActive(t);A.setNodes(t,{strikethrough:e?void 0:!0},{match:r=>ie.isText(r),split:!0})},toggleHeadingOneBlock(t){const e=ne.isHeadingOneBlockActive(t);A.setNodes(t,{type:e?void 0:"heading-1"},{match:r=>d.isBlock(t,r)})},toggleHeadingTwoBlock(t){const e=ne.isHeadingTwoBlockActive(t);A.setNodes(t,{type:e?void 0:"heading-2"},{match:r=>d.isBlock(t,r)})},toggleBlockquoteBlock(t){const e=ne.isBlockquoteActive(t);A.setNodes(t,{type:e?void 0:"blockquote"},{match:r=>d.isBlock(t,r)})},toggleUnorderedBlock(t){const e=ne.isUnorderedActive(t);A.setNodes(t,{type:e?void 0:"unordered"},{match:r=>d.isBlock(t,r)})}},Ti=({handleSubmit:t,handleSave:e,submitting:r})=>c("div",{className:"flex gap-4",children:r?c(Mr,{}):Z(Ge,{children:[c(Ft,{text:"Submit Post",variant:"primary",handleClick:t}),c(Ft,{text:"Save Draft",variant:"secondary",handleClick:e})]})}),Bi=({children:t,handleRemove:e,id:r})=>Z("span",{className:"m-2 inline-flex items-center py-1 px-2 mr-2 text-sm font-medium text-green-800 bg-green-100 rounded",children:[t,Z("button",{type:"button",className:"inline-flex items-center p-0.5 ml-2 text-sm text-green-400 bg-transparent rounded-sm hover:bg-green-200 hover:text-green-900","aria-label":"Remove","data-id":r,onClick:e,children:[c("svg",{"aria-hidden":"true",className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","data-id":r,xmlns:"http://www.w3.org/2000/svg",children:c("path",{"data-id":r,"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),c("span",{className:"sr-only","data-id":r,children:"Remove tag"})]})]}),Fi=({value:t,tags:e,handleInputChange:r,handleRemoveTag:a,handleKeyDown:i})=>Z("div",{className:"flex-wrap mt-4 flex text-sm font-medium w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-md",children:[e.map((o,u)=>c(Bi,{handleRemove:a,id:u,children:"#"+o})),c("input",{value:t,onChange:r,onKeyDown:i,onPaste:o=>o.preventDefault(),placeholder:"Type your tag name and hit space",type:"text",id:"large-input",autoComplete:"off",className:"block px-4 py-2 text-sm grow font-medium text-gray-900 rounded-lg sm:text-md focus:ring-green-500 focus:border-green-500"})]}),Ni=({})=>{const[t]=b.exports.useState(()=>Ei(Ar())),[e,r]=b.exports.useState(""),[a,i]=b.exports.useState(""),[o,u]=b.exports.useState([]),[s,g]=b.exports.useState(!1),f=Tr(),x=Mt(h=>h.alert),k=Mt(h=>h.user),v=Br(),n=[{type:"paragraph",children:[{text:"Start writing your article here..."}]}];b.exports.useEffect(()=>{const h=He(Ue,"users");k.data!==null&&Fr(at(h,k.data.uid)).then(W=>{const U=W.data();U&&U.draft.title&&(r(U.draft.title),t.children=U.draft.post)}).catch(W=>{console.error("Error loading Draft from Database",W)})},[]);const O=b.exports.useCallback(h=>{switch(h.element.type){case"heading-1":return c(Bt,{variant:"h1",...h});case"heading-2":return c(Bt,{variant:"h2",...h});case"blockquote":return c(_r,{...h});case"unordered":return c(Nr,{...h});default:return c(Ci,{...h})}},[]),D=async h=>{try{if(e&&k.data&&o.length>0){g(!0);const W=He(Ue,"posts"),U=He(Ue,"users"),V=await Ir(W,{author:{uid:k.data.uid,displayName:k.data.displayName,photoUrl:k.data.photoUrl},title:e,content:h,timestamp:Lr(),likes:[],likesCount:0,bookmarks:[],comments:[],tags:o});await Tt(at(U,k.data.uid),{posts:Rr(V.id)}),v(`/post/${V.id}`)}else ye("Error!","In order to Submit your post you need to specify a title and add at least one tag!","danger",f)}catch(W){console.error("Error writing new data to Firebase Database",W)}},E=async(h,W)=>{try{if(!W){ye("Error!","You must enter an article title before saving a draft!","danger",f);return}if(k.data){const U=He(Ue,"users");await Tt(at(U,k.data.uid),{draft:{title:W,post:h}}),W&&ye("Draft Saved!","Your Post draft have been saved successfully! It will be automatically loaded when you visit this page again.","success",f)}else ye("Error!","In order to Save Draft your post you need to be logged in!","warning",f)}catch(U){console.error("Error writing new data to Firebase Database",U)}},B=h=>{D(t.children)},_=h=>{E(t.children,e)},I=h=>{r(h.target.value)},q=h=>{o.length<4?i(h.target.value):ye("Info!","You can add maximum 4 tags","info",f)},N=h=>{if(h.key===" "){if(h.preventDefault(),i(""),o.find(U=>U===a)!==void 0){ye("Error!","You already added a tag with the same name, choose a different one!","warning",f);return}a.length>=4?u(U=>[...U,a]):ye("Error!","Your tag has to have at least 4 characters!","warning",f)}},L=h=>{const W=[...o],U=h.target,V=parseInt(U.closest("button").dataset.id,10);W.splice(V,1),u(W)},R=b.exports.useCallback(h=>c(Si,{...h}),[]);return Z(Pr,{children:[Z("div",{className:"my-6",children:[c("input",{value:e,onChange:I,placeholder:"Your article title...",type:"text",id:"large-input",className:"block text-2xl font-bold p-4 w-full text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-md focus:ring-green-500 focus:border-green-500"}),c(Fi,{tags:o,handleInputChange:q,handleKeyDown:N,value:a,handleRemoveTag:L}),x.data.isShown?c("div",{className:"my-4",children:c(Wr,{variant:x.data.variant,title:x.data.title,children:x.data.text})}):""]}),c(yi,{editor:t,value:n,children:Z("div",{className:"my-6 w-full bg-gray-50 rounded-lg border border-gray-200",children:[c(Mi,{toggleHeadingOneBlock:h=>{h.preventDefault(),ne.toggleHeadingOneBlock(t)},toggleHeadingTwoBlock:h=>{h.preventDefault(),ne.toggleHeadingTwoBlock(t)},toggleBlockquoteBlock:h=>{h.preventDefault(),ne.toggleBlockquoteBlock(t)},toggleUnorderedBlock:h=>{h.preventDefault(),ne.toggleUnorderedBlock(t)},toggleBoldMark:h=>{h.preventDefault(),ne.toggleBoldMark(t)},toggleItalicMark:h=>{h.preventDefault(),ne.toggleItalicMark(t)},toggleStrikethroughMark:h=>{h.preventDefault(),ne.toggleStrikethroughMark(t)}}),c("div",{className:"py-2 px-4 bg-white rounded-b-lg",children:c(hi,{className:"py-4 min-h-[500px]",renderElement:O,renderLeaf:R,onKeyDown:h=>{if(!!h.ctrlKey)switch(h.key){case"b":{h.preventDefault(),ne.toggleBoldMark(t);break}}}})})]})}),c(Ti,{handleSubmit:B,handleSave:_,submitting:s})]})};export{Ni as default};
