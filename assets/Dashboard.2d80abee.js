import{h as r,j as e,e as p,R as n,_ as l,u as D,k as A,a as O,m as L,P as E,w as N,n as T,o as j,p as P}from"./index.347ffc4f.js";import{I as z}from"./Icon.9d53e7af.js";const V=r.exports.forwardRef(function(c,h){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},c,{ref:h}),children:p("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[e("circle",{cx:"12",cy:"12",r:"9"}),e("path",{d:"M12 8v4"}),e("path",{d:"M12 16h.01"})]})})}),M=n.lazy(()=>l(()=>import("./index.347ffc4f.js").then(a=>a.a1),["assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),U=n.lazy(()=>l(()=>import("./index.347ffc4f.js").then(a=>a.a3),["assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),S=n.lazy(()=>l(()=>import("./UserUI.1cacd3d2.js"),["assets/UserUI.1cacd3d2.js","assets/index.347ffc4f.js","assets/index.bc31d3b8.css","assets/Button.a4fc522c.js","assets/Avatar.94b195a9.js"])),B=n.lazy(()=>l(()=>import("./index.347ffc4f.js").then(a=>a.a2),["assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),F=n.lazy(()=>l(()=>import("./DashboardItem.b58b5dee.js"),["assets/DashboardItem.b58b5dee.js","assets/index.347ffc4f.js","assets/index.bc31d3b8.css","assets/index.d7c688b0.js"])),m=n.lazy(()=>l(()=>import("./Skeleton.95d35776.js"),["assets/Skeleton.95d35776.js","assets/Card.4df59c82.js","assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),H=n.lazy(()=>l(()=>import("./Modal.f0a648c8.js"),["assets/Modal.f0a648c8.js","assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),I=n.lazy(()=>l(()=>import("./Button.a4fc522c.js"),["assets/Button.a4fc522c.js","assets/index.347ffc4f.js","assets/index.bc31d3b8.css"])),G=({})=>{const a=D(t=>t.user),c=a.data?a.data.uid:void 0,{loading:h,userData:s,setUserData:k}=A(c),[d,x]=r.exports.useState(void 0),[f,v]=r.exports.useState([]),C=D(t=>t.posts),g=O(),y=r.exports.useRef(!0);r.exports.useEffect(()=>{s&&y.current&&(s.posts.forEach(async t=>{const o=await L(t,C.data,g);o&&v(i=>[...i,o])}),y.current=!1)},[s]);const w=r.exports.useCallback(()=>{x(void 0)},[]),R=r.exports.useCallback(t=>{t.target instanceof HTMLButtonElement&&(console.log(t.target.dataset.id),x(t.target.dataset.id))},[]),b=r.exports.useCallback(async(t,o,i)=>{const u=E(P,"posts",o),_=E(P,"users",t);await N(_,{...s,posts:i}),await T(u),g(j(o))},[]);return p("main",{className:"min-h-screen flex flex-col relative",children:[d&&e(H,{handleModalClose:w,children:p("div",{className:"p-6 text-center text-gray-500",children:[e("div",{className:"text-5xl",children:e(z,{children:e(V,{})})}),e("h3",{className:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure you want to delete this product?"}),p("div",{className:"flex gap-4 justify-center",children:[e(I,{text:"Yes, Delete",variant:"danger",handleClick:()=>{if(s){const t=[...s.posts],o=[...f],i=t.indexOf(d),u=o.findIndex(_=>_.id===d);i!==-1&&u!==-1&&(t.splice(i,1),o.splice(u,1),d&&c&&b(c,d,t),x(void 0),k({...s,posts:t}),v(o))}}}),e(I,{text:"No, Cancel",variant:"hollow",handleClick:w})]})]})}),e(M,{children:e(S,{})}),e(B,{customClasses:"flex flex-1 items-start mt-6",children:h?p("div",{className:"flex justify-center gap-x-4 gap-y-8",children:[e(m,{}),e(m,{}),e(m,{})]}):e("div",{children:s&&s.posts.length===0?e("h1",{className:"text-center my-8 text-4xl font-extrabold block w-full py-2 text-transparent bg-clip-text leading-12 bg-gradient-to-r from-green-500 to-slate-800",children:"You don't have any articles added yet!"}):e("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-8",children:s&&f&&f.map(t=>e(F,{handleModalOpen:R,post:t}))})})}),e(U,{})]})};export{G as default};
