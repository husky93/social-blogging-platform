import{h as r,j as e,e as p,R as n,_ as l,u as D,k as O,a as L,m as b,P as E,w as T,n as j,o as z,p as P}from"./index.22b67699.js";import{I as N}from"./Icon.5f2e125c.js";const V=r.exports.forwardRef(function(c,h){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},c,{ref:h}),children:p("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[e("circle",{cx:"12",cy:"12",r:"9"}),e("path",{d:"M12 8v4"}),e("path",{d:"M12 16h.01"})]})})}),M=n.lazy(()=>l(()=>import("./index.22b67699.js").then(a=>a.a1),["assets/index.22b67699.js","assets/index.fd83ad7a.css"])),U=n.lazy(()=>l(()=>import("./index.22b67699.js").then(a=>a.a3),["assets/index.22b67699.js","assets/index.fd83ad7a.css"])),S=n.lazy(()=>l(()=>import("./UserUI.2a5982a1.js"),["assets/UserUI.2a5982a1.js","assets/index.22b67699.js","assets/index.fd83ad7a.css","assets/Button.7d1ee54d.js","assets/Avatar.49ded654.js"])),B=n.lazy(()=>l(()=>import("./index.22b67699.js").then(a=>a.a2),["assets/index.22b67699.js","assets/index.fd83ad7a.css"])),F=n.lazy(()=>l(()=>import("./DashboardItem.532759b3.js"),["assets/DashboardItem.532759b3.js","assets/index.22b67699.js","assets/index.fd83ad7a.css","assets/index.d7c688b0.js"])),m=n.lazy(()=>l(()=>import("./Skeleton.b423d605.js"),["assets/Skeleton.b423d605.js","assets/Card.3f15f676.js","assets/index.22b67699.js","assets/index.fd83ad7a.css"])),H=n.lazy(()=>l(()=>import("./Modal.022b8a59.js"),["assets/Modal.022b8a59.js","assets/index.22b67699.js","assets/index.fd83ad7a.css"])),I=n.lazy(()=>l(()=>import("./Button.7d1ee54d.js"),["assets/Button.7d1ee54d.js","assets/index.22b67699.js","assets/index.fd83ad7a.css"])),G=({})=>{const a=D(t=>t.user),c=a.data?a.data.uid:void 0,{loading:h,userData:s,setUserData:k}=O(c),[d,_]=r.exports.useState(void 0),[f,v]=r.exports.useState([]),C=D(t=>t.posts),y=L(),g=r.exports.useRef(!0);r.exports.useEffect(()=>{s&&g.current&&(s.posts.forEach(async t=>{const o=await b(t,C.data,y);o&&v(i=>[...i,o])}),g.current=!1)},[s]);const w=r.exports.useCallback(()=>{_(void 0)},[]),R=r.exports.useCallback(t=>{t.target instanceof HTMLButtonElement&&(console.log(t.target.dataset.id),_(t.target.dataset.id))},[]),A=r.exports.useCallback(async(t,o,i)=>{const u=E(P,"posts",o),x=E(P,"users",t);await T(x,{...s,posts:i}),await j(u),y(z(o))},[]);return p("main",{className:"min-h-screen flex flex-col relative",children:[d&&e(H,{handleModalClose:w,children:p("div",{className:"p-6 text-center text-gray-500",children:[e("div",{className:"text-5xl",children:e(N,{children:e(V,{})})}),e("h3",{className:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this product?"}),p("div",{className:"flex gap-4 justify-center",children:[e(I,{text:"Yes, Delete",variant:"danger",handleClick:()=>{if(s){const t=[...s.posts],o=[...f],i=t.indexOf(d),u=o.findIndex(x=>x.id===d);i!==-1&&u!==-1&&(t.splice(i,1),o.splice(u,1),d&&c&&A(c,d,t),_(void 0),k({...s,posts:t}),v(o))}}}),e(I,{text:"No, Cancel",variant:"hollow",handleClick:w})]})]})}),e(M,{children:e(S,{})}),e(B,{customClasses:"flex flex-1 items-start mt-6",children:h?p("div",{className:"flex justify-center gap-x-4 gap-y-8",children:[e(m,{}),e(m,{}),e(m,{})]}):e("div",{children:s&&s.posts.length===0?e("h1",{children:"You don't have any articles added yet!"}):e("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-8",children:s&&f&&f.map(t=>e(F,{handleModalOpen:R,post:t}))})})}),e(U,{})]})};export{G as default};
