import{R as _,_ as f,U as v,h as l,V as E,X as R,Y as b,Z as g,A as I,e as d,F as x,j as s,o as L}from"./index.70eefed5.js";const u=_.lazy(()=>f(()=>import("./PostCard.6dbf4472.js"),["assets/PostCard.6dbf4472.js","assets/index.70eefed5.js","assets/index.cf47ed5d.css","assets/Skeleton.f4afd0d5.js","assets/Card.eb28ad52.js"])),o=_.lazy(()=>f(()=>import("./Skeleton.f4afd0d5.js"),["assets/Skeleton.f4afd0d5.js","assets/Card.eb28ad52.js","assets/index.70eefed5.js","assets/index.cf47ed5d.css"])),C=({})=>{const{posts:a,hasMore:i,loading:n,loadItems:m,lastVisible:p}=v(),r=l.exports.useRef(),h=l.exports.useCallback(t=>{n||(r.current&&r.current.disconnect(),r.current=new IntersectionObserver(e=>{if(e[0].isIntersecting&&e[0].time>3e3&&i){const c=E(I(L,"posts"),g("likesCount","desc"),b(p),R(5));m(c)}}),t&&r.current.observe(t))},[n,i]);return d(x,{children:[a.map((t,e)=>a.length===e+1?s("div",{ref:h,children:s(u,{post:t},`post-${e}`)},`post-${e}-ref`):s(u,{post:t},`post-${e}`)),n&&d("div",{children:[s(o,{}),s(o,{}),s(o,{})]})]})};export{C as default};
