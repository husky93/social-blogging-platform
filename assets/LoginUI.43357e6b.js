import{a as d,j as t,y as l,z as u,P as i,p as n,A as h,B as m,C as g,D as y,x as f}from"./index.316cd85b.js";import U from"./Button.d2e43e10.js";const R=({text:e})=>{const c=d(),p=async o=>{try{const s=m(n,"users");await g(i(s,o.uid),{uid:o.uid,displayName:o.displayName,photoUrl:o.photoURL,posts:[],bookmarks:[]})}catch(s){console.error("Error writing new data to Firebase Database",s)}};return t("div",{className:e?"":"items-center justify-end flex flex-1",children:t(U,{variant:"primary",handleClick:o=>{o.preventDefault(),l(f,y).then(async s=>{const a=s.user;c(u({uid:a.uid,displayName:a.displayName,photoUrl:a.photoURL}));const r=i(n,"users",a.uid);(await h(r)).exists()||p(a)}).catch(s=>{const a=s.code,r=s.message;console.error(a+" Error occured while trying to log in: "+r)})},text:e||"Sign in"})})};export{R as default};
