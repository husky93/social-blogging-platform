import{a as d,j as t,G as l,q as u,P as i,p as n,I as m,J as h,K as g,M as y,E as f}from"./index.2a09c462.js";import N from"./Button.971c0965.js";const b=({text:e})=>{const c=d(),p=async s=>{try{const a=h(n,"users");await g(i(a,s.uid),{uid:s.uid,displayName:s.displayName,name:s.displayName,photoUrl:s.photoURL,posts:[],bookmarks:[]})}catch(a){console.error("Error writing new data to Firebase Database",a)}};return t("div",{className:e?"":"items-center justify-end flex flex-1",children:t(N,{variant:"primary",handleClick:s=>{s.preventDefault(),l(f,y).then(async a=>{const o=a.user;c(u({uid:o.uid,displayName:o.displayName,photoUrl:o.photoURL}));const r=i(n,"users",o.uid);(await m(r)).exists()||p(o)}).catch(a=>{const o=a.code,r=a.message;console.error(o+" Error occured while trying to log in: "+r)})},text:e||"Sign in"})})};export{b as default};
